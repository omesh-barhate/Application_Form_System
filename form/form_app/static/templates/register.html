{% load static %}
<!DOCTYPE html>
<html>
	<head>
		<!-- Basic Page Info -->
		<meta charset="utf-8" />
		<title>DeskApp - Bootstrap Admin Dashboard HTML Template</title>

		<!-- Mobile Specific Metas -->
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1, maximum-scale=1"
		/>

		<!-- Google Font -->
		<link
			href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
			rel="stylesheet"
		/>
		<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

		<!-- CSS -->
		<link rel="stylesheet" type="text/css" href="{% static "vendors/styles/core.css" %}" />
		<link
			rel="stylesheet"%}"
			type="text/css"
			href="{% static "vendors/styles/icon-font.min.css" %}"
		/>
        <link
			rel="stylesheet"
			type="text/css"
			href="{% static "src/plugins/jquery-steps/jquery.steps.css" %}"
		/>
		<link rel="stylesheet" type="text/css" href="{% static "vendors/styles/style.css" %}" />
		
	</head>
	<body class="login-page">
		<div class="login-header box-shadow">
			<div
				class="container-fluid d-flex justify-content-between align-items-center"
			>
				<div class="brand-logo">
					<a href="login.html">
						<img src="vendors/images/deskapp-logo.svg" alt="" />
					</a>
				</div>
				<div class="login-menu">
					<ul>
						<li><a href="">Login</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div
			class="register-page-wrap d-flex align-items-center flex-wrap justify-content-center"
		>
			<div class="container">
				<div class="row align-items-center">
					<div class="col-md-6 col-lg-5">
						<div class="register-box bg-white box-shadow border-radius-10">
							<div class="wizard-content">
								<form class="tab-wizard2 wizard-circle wizard" name="register_form" id="register_form"  action="/register_save" method="post">
									{% csrf_token %}
									<h5>Basic Account Credentials</h5>
									<section>
										<div class="form-wrap max-width-600 mx-auto">
											<div class="form-group row">
												<label class="col-sm-4 col-form-label">First Name</label>
												<div class="col-sm-8">
													<input type="text" class="form-control" name="first_name" required />
												</div>
											</div>
											<div class="form-group row">
												<label class="col-sm-4 col-form-label">Middle Name</label>
												<div class="col-sm-8">
													<input type="text" class="form-control" name="middle_name" required />
												</div>
											</div>
											<div class="form-group row">
												<label class="col-sm-4 col-form-label">Last Name</label>
												<div class="col-sm-8">
													<input type="text" class="form-control" name="last_name" required />
												</div>
											</div>
											<div class="form-group row">
                                                <label class="col-sm-4 col-form-label">Are you a Inhouse Student ?</label>
												<div class="custom-control custom-radio custom-control-inline pb-0">
														<input type="radio" id="inhouse" name="category" class="custom-control-input" value="1" {% if request.POST.category == '1' %}checked{% endif %} required/>
														<label class="custom-control-label" for="inhouse" >Yes</label>
												</div>
                                                <div class="custom-control custom-radio custom-control-inline pb-0">
                                                    <input type="radio" id="inhouse-1" name="category" class="custom-control-input" value="0" {% if request.POST.category == '0' %}checked{% endif %} required />
                                                    <label class="custom-control-label" for="inhouse-1" >No</label >
                                            </div>
										    </div>
									</section>
									<!-- Step 2 -->
									<h5>Personal Information</h5>
									<section>
										<div class="form-wrap max-width-600 mx-auto">
											<div class="form-group row">
												<label class="col-sm-4 col-form-label">Mobile Number</label>
												<div class="col-sm-8">
													<input type="tel" class="form-control"  name="mobile_number" required/>
												</div>
											</div>
											<div class="form-group row">
												<label class="col-sm-4 col-form-label">Address</label>
												<div class="col-sm-8">
													<input type="text" class="form-control" name="address" required/>
												</div>
											</div>
											<div class="form-group row">
												<label class="col-sm-4 col-form-label">Email Address</label>
												<div class="col-sm-8">
													<input type="email" class="form-control" name="email" required />
												</div>
											</div>
										</div>
										<div class="form-group row">
											<label class="col-sm-4 col-form-label">Enter your Username :</label>
											<div class="col-sm-8">
												<input type="text" class="form-control"  name="username" required/>
											</div>
										</div>
									</section>
									<!-- Step 3 -->
									<h5>Payment Method & Info</h5>
									<section>
										<div class="form-wrap max-width-600 mx-auto">
                                            <div class="form-group row">
                                                <label class="col-sm-4 col-form-label">Date your Picker</label>
                                                <div class="col-sm-8">
                                                    <input class="form-control date-picker" placeholder="Select Date" type="text" name="date" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-4 col-form-label">Mother's First Name</label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" name="mother_first_name" required/>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label class="col-sm-4 col-form-label">Father's First Name</label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control" name="father_first_name" required/>
                                            </div>
                                        </div>
										<div class="form-group row">
											<label class="col-sm-4 col-form-label">Enter your Password :</label>
											<div class="col-sm-8">
												<input type="password" class="form-control" name="password" required/>
											</div>
										</div>
                                    </section>
									<button type="submit" id="success-modal-btn" style="display:none;"></button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
    <!-- js -->

    <script src="{% static "vendors/scripts/core.js" %}"></script>
    <script src="{% static "vendors/scripts/script.min.js" %}"></script>
    <script src="{% static "vendors/scripts/process.js" %}"></script>
    <script src="{% static "vendors/scripts/layout-settings.js" %}"></script>    
    <script src="{% static "src/plugins/jquery-steps/jquery.steps.js" %}"></script>
	<script src="{% static "src/plugins/jquery-validation/dist/jquery.validate.min.js" %}"></script>
	<script src="{% static "src/plugins/jquery-validation/dist/jquery.validate.js" %}"></script>
	<script>
				$(document).ready(function() {
			// Initialize the jQuery Steps plugin
			$(".tab-wizard2").steps({
				headerTag: "h5",
				bodyTag: "section",
				transitionEffect: "fade",
				titleTemplate: '<span class="step">#index#</span> <span class="info">#title#</span>',
				labels: {
					finish: "Submit",
					next: "Next",
					previous: "Previous",
				},
				onStepChanging: function(event, currentIndex, newIndex) {
					// Validate the form inputs at the current step
					var form = $(this);
					form.validate().settings.ignore = ":disabled,:hidden";
					return form.valid();
				},
				onStepChanged: function(event, currentIndex, priorIndex) {
					$('.steps .current').prevAll().addClass('disabled');
				},
				onFinished: function(event, currentIndex) {
					$('#success-modal-btn').trigger('click');
				}
			});

			// Initialize the jQuery Validation plugin on the form
			$("#register_form").validate({
				ignore: [],
				errorPlacement: function(error, element) {
					// Customize error placement if needed
					error.insertAfter(element);
				},
				rules: {
					// Specify validation rules for each input field
					first_name: "required",
					middle_name: "required",
					last_name: "required",
					mobile_number: {
						required: true,
						digits: true
					},
					address: "required",
					email: {
						required: true,
						email: true
					},
					username: "required",
					date: "required",
					mother_first_name: "required",
					father_first_name: "required",
					password: "required"
				},
				messages: {
					// Specify custom error messages for each input field
					first_name: "Please enter your first name.",
					middle_name: "Please enter your middle name.",
					last_name: "Please enter your last name.",
					mobile_number: {
						required: "Please enter your mobile number.",
						digits: "Please enter a valid mobile number."
					},
					address: "Please enter your address.",
					email: {
						required: "Please enter your email address.",
						email: "Please enter a valid email address."
					},
					username: "Please enter your username.",
					date: "Please select a date.",
					mother_first_name: "Please enter your mother's first name.",
					father_first_name: "Please enter your father's first name.",
					password: "Please enter your password."
				},
				errorPlacement: function(error, element) {
					// Customize error placement with inline CSS
					error.css({
						"color": "red",
						"font-size": "12px",
						"margin-top": "5px"
					});
					error.insertAfter(element);
					if (element.attr("name") === "category") {
						// If the error is for "category" (Yes/No buttons), place it after the buttons
						error.insertAfter(element.closest(".form-group"));
					} else {
						// For other elements, place the error message normally
						error.insertAfter(element);
					}
				},
			});

			// Add custom date validation method
			$.validator.addMethod('date', function(value, element) {
				if (this.optional(element)) {
					return true;
				}
				var ok = true;
				try {
					$.datepicker.parseDate('dd/mm/yy', value);
				} catch (err) {
					ok = false;
				}
				return ok;
			});

			// Initialize datepicker for the date field
			$(".date-picker").datepicker({ dateFormat: 'dd/mm/yy', changeYear: true ,language: 'en', autoClose: true});
		});

	</script>
</body>

 </html>